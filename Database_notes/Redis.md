Видео: https://www.youtube.com/watch?v=GgRzHru9Hag&t=529s

**Redis** – это key-value БД, которая хранит данные в оперативной памяти (что существенно увеличивает отзывчивость в сравнении с обычной БД) и отлично подходит для того, чтобы выступать в роли кэша.

Redis нужно использовать, когда:
1. есть популярные данные, 
2. важна скорость их получения, 
3. не требуется консистентность.

Функциональные особенности Redis:
- Данные в Redis хранятся в виде простых пар **ключ+значение** (напоминает тип данных hash-map). 
- Соответственно, **поиск** данных в Redis работает **только по ключу**. 
- В этой связи при запросе данных по ключу происходит запрос **сразу всех данных**, которые привязаны к этому ключу. 
- **Скорость** получения данных из такой структуры практически **не зависит от объема** данных.
- Redis **не подразумевает возможности совершения сложных запросов** к данным. По сути базовые SQL-операторы такие, как WHERE, JOIN и тд. не применимы к Redis.
- Для того, чтобы данные в БД не хранились вечно, в Redis предусмотрена **возможность добавления TTL** для записей. 

Нефункциональные особенности Redis:
- Запросы на чтение и запись в Redis (~1 nanosecond) выполняются в 10000 раз быстрее по сравнению с обычной БД на жестком диске (~1 millisecond).
- Для обеспечения **отказоустойчивости** инстансы Redis можно **реплицировать** и объединять в связанный кластер.
- Для обеспечения **масштабируемости** данные можно равномерно распределить между инстансами Redis кластера. Redis из коробки предоставляет **функционал маршрутизации запросов** пользователей на те машины, где хранятся интересующие их данные. Для каждого из этих инстансов можно добавить реплики.
- По умолчанию Redis **НЕ гарантирует консистентность** данных между инстансами. Реплицирование данных между инстансами происходит асинхронно (обеспечивается стандартная для NoSQL БД [[Принципы BASE|eventual consistency]]).
- По умолчанию Redis **НЕ предоставляет функционал многопоточного обновления** данных (когда несколько пользователей изменяют одну и ту же запись).

В Redis по ключу можно хранить:
- **Строки**: 
  @mr_scott → "Босс"
- **Связные списки** (в которых элементы хранят ссылки на следующие элементы): @mr_scott → "Босс", "Комик", "Добряк",  "Комик" (возможны дубли)
- **Хэш-мапы**: 
  @mr_scott → {name: "Майкл Скот", bio: "Босс Дандер Мифлин", birthday: "1966-04-14"}
- **Множества**:
  @mr_scott →  "Босс", "Теннисист", "Добряк" (без дублей)
- **Сортированные множества**:
  @mr_scott →  "Босс": 1, "Теннисист": 2, "Добряк": 3 (без дублей и с порядковым номером, посредством которого множество сортируется)

Примеры юзкейсов, когда может пригодиться Redis:
- наличие пользователей селебрити,
- реализация отсортированного списка лидеров.

