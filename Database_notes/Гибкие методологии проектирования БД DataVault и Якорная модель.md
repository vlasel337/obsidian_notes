Выбор подходящей методологии проектирования DWH позволит обеспечить необходимый уровень гибкости и масштабируемости, а также синхронизоваться с поставленными бизнес-задачами.

Если [[Классические методологии проектирования БД "снежинка" и "звезда"#Снежинка|Снежинка]] и [[Классические методологии проектирования БД "снежинка" и "звезда"#Звезда|Звезда]] - это классические методологии проектирования DWH (Waterfall), то DataVault и Якорная модель - в отличии это гибкие методологии проектирования DWH ([[Agile]]).

## DataVault 
Позволяет обеспечить параллельную загрузку данных, позволяет масштабироваться без серьезной перестройки.

Состоит из трех категорий сущностей:
1) **Хабы** - бизнес-сущности, например клиент, продукт, заказ. 
   Содержат ключи, ссылки и время добавления/изменения.
2) **Линки** - представление отношений между Хабами в виде таблиц «многие ко многим». Содержат ссылки на суррогатные ключи связанных Хабов.
3) **Сателлиты** - таблицы с контекстными данными (изменяемыми атрибутами сущностей), связанные с Хабами и Линками по принципу «один ко многим».

**Плюсы:** 
- простота доработок - можно независимо разрабатывать и редактировать узлы, привязывать новые сателлиты, менять источники.
**Минусы:**
- высокая нормализация порождает большое кол-во соединений. 
- сложнее поддается пониманию, больший уровень абстракции. 
- большое кол-во объектов повышает затраты на поддержку и документирование.
![[Data Vault example.png]]
## Якорная модель
Эта гибкая методология проектирования подходит для работы с постоянно растущим и меняющимся набором данных.

Состоит из четырех категорий сущностей:
1) **Якорь** - таблица, описывающая сущности или события. 
   Содержит ключи и инфу о времени добавления записи.
2) **Атрибут** - таблица с контекстной информацией об одном атрибуте для Якоря 
   Содержит ссылку на Якорь, значение атрибута и инфу о времени добавления записи. 
3) **Связь** - таблицы для выстраивания связей между Якорями.
4) **Узел** - таблицы, используемые для моделирования общих свойств (состояний).

**Плюсы**: 
- простота доработки хранилища, добавления новых данных и взаимосвязей
- значительная экономия памяти за счет полной нормализации и отсутствия дублей и NULLов.
Минусы:
- Еще сложнее в понимании и поддержке.
- Огромное кол-во объектов усложняет запросы к базе.
