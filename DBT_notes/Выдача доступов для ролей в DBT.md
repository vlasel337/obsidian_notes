После [[Разделение моделей DBT по схемам|разведения моделей DBT по разным схемам]] логично возникает вопрос о разграничении прав доступа к этим схемам для различных ролей в БД.

## Выдача доступа к таблицам схемы
Выдача доступов ко всем таблицам схемы в БД из проекта DBT задается в конфигурационном файле проекта `dbt_project.yml` через опцию **grants**:
```yml
models:
	dbt_scooters: 
		+materialized: "table"
		+on_schema_change: "append_new_columns" 
		finance:
			+schema: "finance" 
			+grants: 
				select: [ "finance" ]
```
Таким образом для группы "finance" выдается доступ на чтение ко всем таблицам из схемы **finance**.

## Выдача доступа к самой схеме
Однако это еще не все. Помимо выдачи доступа к таблицам из схемы, также необходимо в конфигурационном файле проекта `dbt_project.yml` выдать для роли доступ к самой схеме. Это можно сделать посредством добавления соответствующей команды в [[Хуки в DBT|хук]] **on-run-end**, которая будет отрабатывать каждый раз при запуске проекта:
```yml
on-run-end: 
	- "grant usage on schema dbt_finance to finance;"
```

