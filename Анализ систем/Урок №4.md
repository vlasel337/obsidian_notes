Заметки:
- Instability – это характеристика отвечающая за уровень нестабильности элементов системы и системы в целом. Нестабильность – это ситуация, когда изменение в одном элементе системы ломает другие части системы.
  Характеристика instability говорит о вероятности, с которой потребуется менять элемент из-за изменений в окружающей системе.
  Задача архитектора в том, чтобы instability **важных** элементов стремилась к нулю.
- Instability вычисляется по формуле:
  ![[Instability formula.png|200]]
  Где: C<sub>a</sub> (Efferent Coupling) – это количество входящих связей элемента, C<sub>е</sub> (Afferent Coupling) – это количество исходящих связей элемента.


# Паттерны для распила монолита
Существует две основные группы паттернов по распилу монолита и выделению из него отдельных сервисов: Code first и Data first.

Виды паттернов по распилу монолита:
1. **Code first: Strangler Fig Application**. В рамках этого паттерна перенос функционала из монолита в новый сервис происходит итеративно. При переносе функционала новая версия приложения смотрит на старую БД до тех пор, пока полноценно не будет завершен переезд.
   ![[Pattern Strangler Fig Application.png|400]]
2. **Code first: Tactical Forking**. Это обратный вариант предыдущего паттерна. Его идея заключается в полном копировании существующего приложения и отсечении ненужных частей для формирования отдельных сервисов. В старой версии кода удаляем код, который выносим, в новой – тот, который не относится к выносимому.
   ![[Pattern Tactical Forking.png|450]]
3. **Data first: Change Data Capture**. Паттерн подходит в ситуациях, когда нужно не только вынести код, но и поменять вид базы данных или модель данных. Идея паттерна заключается в том, чтобы вначале передать данные в новый сервис и только после –реализовать логику. В процессе реализации данного паттерна бизнес должен пойти на фичефриз.

Алгоритм выбора подходящего паттерна распила монолита:
![[Pattern chose alghoritm.png|450]]

  
  